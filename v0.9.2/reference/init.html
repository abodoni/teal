<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create the Server and UI Function For the Shiny App — init • teal</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create the Server and UI Function For the Shiny App — init" />
<meta property="og:description" content="
End-users: This is the most important function for you to start a
teal app that is composed out of teal modules.
Notes for developers:
This is a wrapper function around the module_teal.R functions. Unless you are
an end-user, don't use this function, but instead this module." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">teal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/delayed_data_loading.html">Delayed Data Loading</a>
    </li>
    <li>
      <a href="../articles/developer_apps.html">Developer Apps</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting Started with Teal</a>
    </li>
    <li>
      <a href="../articles/teal_desiderata.html">Teal Desiderata</a>
    </li>
    <li>
      <a href="../articles/teal_design_and_implementation.html">Teal Design and Implementation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<!-- start_releases -->
<li class="dropdown">
	<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
Other releases
<span class="caret"></span></a><ul class="dropdown-menu" role="menu">
   <li><a href="../../index.html">latest</a></li>
   <li><a href="../../pre-release/index.html">pre-release</a></li>
   <li><a href="../../v0.10.0/index.html">v0.10.0</a></li>
   <li><a href="../../v0.9.5/index.html">v0.9.5</a></li>
   <li><a href="../../v0.9.4/index.html">v0.9.4</a></li>
   <li><a href="../../v0.9.3/index.html">v0.9.3</a></li>
   <li><a href="../../v0.9.2/index.html">v0.9.2</a></li>
   <li><a href="../../v0.9.1/index.html">v0.9.1</a></li>
   <li><a href="../../v0.9.0/index.html">v0.9.0</a></li>
   <li><a href="../../v0.8.5/index.html">v0.8.5</a></li>
   <li><a href="../../v0.8.4/index.html">v0.8.4</a></li>
   <li><a href="../../v0.8.3/index.html">v0.8.3</a></li>
   <li><a href="../../v0.8.2/index.html">v0.8.2</a></li>
   <li><a href="../../v0.7.0/index.html">v0.7.0</a></li>
   <li><a href="../../v0.6.0/index.html">v0.6.0</a></li>
   <li><a href="../../v0.0.5/index.html">v0.0.5</a></li>
   <li><a href="../../v0.0.4/index.html">v0.0.4</a></li>
   <li><a href="../../v0.0.3/index.html">v0.0.3</a></li>
   <li><a href="../../v0.0.2/index.html">v0.0.2</a></li>
   <li><a href="../../v0.0.1/index.html">v0.0.1</a></li>
</ul></li>
<!-- end_releases -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.roche.com/NEST/teal">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create the Server and UI Function For the Shiny App</h1>
    
    <div class="hidden name"><code>init.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://www.tidyverse.org/lifecycle/#maturing'><img src='figures/lifecycle-maturing.svg' alt='Maturing lifecycle'></a>
End-users: This is the most important function for you to start a
teal app that is composed out of teal modules.</p>
<p><strong>Notes for developers</strong>:
This is a wrapper function around the <code>module_teal.R</code> functions. Unless you are
an end-user, don't use this function, but instead this module.</p>
    </div>

    <pre class="usage"><span class='fu'>init</span>(
  <span class='no'>data</span>,
  <span class='no'>modules</span>,
  <span class='kw'>title</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>filter</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  <span class='kw'>header</span> <span class='kw'>=</span> <span class='no'>tags</span>$<span class='fu'>p</span>(<span class='st'>"Add Title Here"</span>),
  <span class='kw'>footer</span> <span class='kw'>=</span> <span class='no'>tags</span>$<span class='fu'>p</span>(<span class='st'>"Add Footer Here"</span>),
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>)
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>(<code>RelationalData</code>) R6 object where <code>cdisc_data</code> or <code>teal_data</code> returns such a one.</p></td>
    </tr>
    <tr>
      <th>modules</th>
      <td><p>nested list with one list per module with the
following named list elements:</p><table class='table'>
<tr><td></td><td>name</td></tr>
<tr><td>string with name shown in menu for the analysis item</td><td>server</td></tr>
<tr><td>required, shiny server module function, see
<code>\link[shiny]{callModule}</code> for more information</td><td>ui</td></tr>
<tr><td>required, shiny ui module function, see
<code>\link[shiny]{callModule}</code> for more information. Note, due to the app's initialization by teal,
this <code>ui</code> function is actually part of the <code>server</code> function of the shiny app which means code which must
be included in the shiny <code>ui</code> function (such as using <code><a href='https://rdrr.io/pkg/htmltools/man/htmlDependency.html'>htmltools::htmlDependency</a></code>) should not be placed here
but should instead be placed in the <code>header</code> argument to <code>teal::init</code> as that is included in the shiny <code>ui</code>
function.</td><td>data</td></tr>
<tr><td>required, vector with datasets names that are passed
on (filtered) to the server function</td><td>options</td></tr>
</table>
</td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>(<code>NULL</code> or <code>character</code>) The browser window title (defaults to the host URL of the page).</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>(<code>list</code>) You can define filters that show when
the app starts. Variables inherited from ADSL have to be specified only for ADSL dataset.
Thus variable like RACE have to be specified for ADSL datasets even when other sets contain it too.
The general pattern is:
<code><a href='https://rdrr.io/r/base/list.html'>list(ADSL = list(SEX = ..., AGE = ...), ADAE = ...)</a></code>.
An example is:
<code><a href='https://rdrr.io/r/base/list.html'>list(ADSL = list(SEX = c("M", "F")))</a></code>.
More generally, the filters for the variable, e.g. <code>SEX</code> can be
specified as follows:
<code><a href='https://rdrr.io/r/base/list.html'>list(SEX = list(choices = c("M", "F")))</a></code>,
<code><a href='https://rdrr.io/r/base/list.html'>list(SEX = list(choices = c("M", "F"), keep_na = TRUE))</a></code>,
or equivalently with:
<code><a href='https://rdrr.io/r/base/list.html'>list(SEX = c("M", "F"))</a></code>,
<code><a href='https://rdrr.io/r/base/list.html'>list(SEX = c("M", "F", NA))</a></code>,
or for the default filter (not very restrictive):
<code><a href='https://rdrr.io/r/base/list.html'>list(SEX = default_filter())</a></code></p>
<p>Instead of <code>choices</code> above, use the following names:</p><ul>
<li><p><code>numerical</code>: <code>range</code></p></li>
<li><p><code>factor</code>: <code>choices</code></p></li>
<li><p><code>logical</code>: <code>logical</code>
A general example is:
<code><a href='https://rdrr.io/r/base/list.html'>list(   ADSL = list(AGE = default_filter(), SEX = c("M", NA)),   ADAE = list(AETOXGR = default_filter())   )</a></code>
Ignored if the app is restored from a bookmarked state.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>header</th>
      <td><p>(<code>character</code> or <code>shiny.tag</code>) the header of the app. Note shiny code placed here (and in the footer
argument) will be placed in the app's <code>ui</code> function so code which needs to be placed in the <code>ui</code> function
(such as loading css via <code><a href='https://rdrr.io/pkg/htmltools/man/htmlDependency.html'>htmltools::htmlDependency</a></code>) should be included here.</p></td>
    </tr>
    <tr>
      <th>footer</th>
      <td><p>(<code>character</code> or <code>shiny.tag</code>) the footer of the app</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>(<code>character</code>) module id to embed it, if provided,
the server function must be called with <code>callModule</code>;
See the vignette for an example. However, <code>\link{ui_teal_with_splash}</code>
is then preferred to this function.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>named list with server and ui function</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>random.cdisc.data</span>)

<span class='no'>ADSL</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/random.cdisc.data/man/radsl.html'>radsl</a></span>(<span class='kw'>cached</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span>(<span class='kw'>teal_logging</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='no'>app</span> <span class='kw'>&lt;-</span> <span class='fu'>init</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='fu'><a href='cdisc_data.html'>cdisc_data</a></span>(
    <span class='fu'><a href='cdisc_dataset.html'>cdisc_dataset</a></span>(<span class='st'>"ADSL"</span>, <span class='no'>ADSL</span>),
    <span class='kw'>code</span> <span class='kw'>=</span> <span class='st'>"ADSL &lt;- radsl(seed = 1)"</span>
  ),
  <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'><a href='root_modules.html'>root_modules</a></span>(
    <span class='fu'><a href='module.html'>module</a></span>(
      <span class='st'>"data source"</span>,
      <span class='kw'>server</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>input</span>, <span class='no'>output</span>, <span class='no'>session</span>, <span class='no'>datasets</span>) {},
      <span class='kw'>ui</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>id</span>, <span class='no'>...</span>) <span class='fu'>div</span>(<span class='fu'>p</span>(<span class='st'>"information about data source"</span>)),
      <span class='kw'>filters</span> <span class='kw'>=</span> <span class='st'>"all"</span>
    ),
    <span class='fu'><a href='module.html'>module</a></span>(
      <span class='st'>"ADSL AGE histogram"</span>,
      <span class='kw'>server</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>input</span>, <span class='no'>output</span>, <span class='no'>session</span>, <span class='no'>datasets</span>) {
        <span class='no'>output</span>$<span class='no'>hist</span> <span class='kw'>&lt;-</span> <span class='fu'>renderPlot</span>(
          <span class='fu'><a href='https://rdrr.io/r/graphics/hist.html'>hist</a></span>(<span class='no'>datasets</span>$<span class='fu'>get_data</span>(<span class='st'>"ADSL"</span>, <span class='kw'>filtered</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)$<span class='no'>AGE</span>)
        )
      },
      <span class='kw'>ui</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>id</span>, <span class='no'>...</span>) {
        <span class='no'>ns</span> <span class='kw'>&lt;-</span> <span class='fu'>NS</span>(<span class='no'>id</span>)
        <span class='fu'>plotOutput</span>(<span class='fu'>ns</span>(<span class='st'>"hist"</span>))
      },
      <span class='kw'>filters</span> <span class='kw'>=</span> <span class='st'>"ADSL"</span>
    )
  ),
  <span class='kw'>title</span> <span class='kw'>=</span> <span class='st'>"App title"</span>,
  <span class='kw'>filter</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>ADSL</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>AGE</span> <span class='kw'>=</span> <span class='fu'><a href='default_filter.html'>default_filter</a></span>())),
  <span class='kw'>header</span> <span class='kw'>=</span> <span class='no'>tags</span>$<span class='fu'>h1</span>(<span class='st'>"Sample App"</span>),
  <span class='kw'>footer</span> <span class='kw'>=</span> <span class='no'>tags</span>$<span class='fu'>p</span>(<span class='st'>"Copyright 2017 - 2020"</span>)
)
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'>shinyApp</span>(<span class='no'>app</span>$<span class='no'>ui</span>, <span class='no'>app</span>$<span class='no'>server</span>)
<span class='co'># or: to also work with bookmarking</span>
<span class='fu'><a href='bookmarkableShinyApp.html'>bookmarkableShinyApp</a></span>(<span class='no'>app</span>$<span class='no'>ui</span>, <span class='no'>app</span>$<span class='no'>server</span>)
}

<span class='co'># See the vignette for an example how to embed this app as a module</span>
<span class='co'># into a larger application</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by NEST, Adrian Waddell, Pawel Rucki, Dawid Kaledkowski, Sebastian Wolf, Maximilian Mordig, Bartosz Baranowski, Ondrej Slama, Nikolas Burkoff, Maciej Nasinski, Roche.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


