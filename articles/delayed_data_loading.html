<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delayed Data Loading • teal</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Delayed Data Loading">
<meta property="og:description" content="teal">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">teal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.0.9052</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/delayed_data_loading.html">Delayed Data Loading</a>
    </li>
    <li>
      <a href="../articles/developer_apps.html">Developer Apps</a>
    </li>
    <li>
      <a href="../articles/filter_panel.html">Filter panel</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting Started with Teal</a>
    </li>
    <li>
      <a href="../articles/teal_design_and_implementation.html">Teal Design and Implementation</a>
    </li>
    <li>
      <a href="../articles/teal_options.html">Modifying a Teal application with R options</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/insightsengineering/teal" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Delayed Data Loading</h1>
                        <h4 data-toc-skip class="author">Dawid Kałędkowski</h4>
            
            <h4 data-toc-skip class="date">2022-01-13</h4>
      
      
      <div class="hidden name"><code>delayed_data_loading.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>Data plays an essential role in data analysis and <code>teal</code> provides several ways to include datasets into shiny applications. Normally, one develops an application in such a way that data are available before the app starts. This always involves passing <code>data.frame</code> objects using the <code>cdisc_data</code> or <code>teal_data</code> functions to the teal application. This way of building an app is applicable if data is physically available before the call to <code><a href="../reference/init.html">teal::init()</a></code>, so it can be obtained in pre-processing. Including data to the shiny app as <a href="https://shiny.rstudio.com/articles/scoping.html" class="external-link">global objects</a> means that they will be fixed and data won’t change in time. On the other hand data can be loaded by the shiny app itself and can request information from the app user such as login, password, file location etc. before being loaded. Delayed data loading in teal application involves specifying metadata which stores all information needed to pull the data from the right source with appropriate arguments. In delayed data loading application, before the main app loads a data loading screen is visible first. This means that teal application can be</p>
<p>two-staged:</p>
<ol style="list-style-type: decimal">
<li>Data loading app</li>
<li>Main app</li>
</ol>
</div>
<div class="section level2">
<h2 id="key-definitions">Key definitions<a class="anchor" aria-label="anchor" href="#key-definitions"></a>
</h2>
<p>Before we jump to creating application it is important to define a few terms which are the key to understand new classes.</p>
<ol style="list-style-type: decimal">
<li><p><code>TealDataset</code> and <code>TealDatasetConnector</code> - <code>TealDataset</code> is a class which contains physical data in form of <code>data.frame</code> plus reproducible code. <code>TealDatasetConnector</code> is a class which contains R call to obtain <code>TealDataset</code>.</p></li>
<li><p><code>data.frame</code>, <code>TealDataset</code> and <code>TealData</code>- object of class <code>TealDataset</code> contains a single <code>data.frame</code> object. <code>TealData</code> is a collection of <code>TealDataset</code> objects.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="creating-an-app">Creating an app<a class="anchor" aria-label="anchor" href="#creating-an-app"></a>
</h2>
<div class="section level3">
<h3 id="callable">
<code>Callable</code><a class="anchor" aria-label="anchor" href="#callable"></a>
</h3>
<div class="section level4">
<h4 id="callablefunction">
<code>CallableFunction</code><a class="anchor" aria-label="anchor" href="#callablefunction"></a>
</h4>
<p>This class won’t be used often by the developers but it’s essential for all connectors to store and execute R function with possibility to get code to reproduce function calls. In the example below and object of class <code>CallableFunction</code> is created which runs <code>synthetic_cdisc_dataset</code> function with arguments set before.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">teal</span><span class="op">)</span>
<span class="co">#&gt; Loading required package: shiny</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; You are using teal version 0.10.0.9052</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">scda</span><span class="op">)</span>
<span class="co">#&gt; </span>

<span class="co"># initialize object</span>
<span class="va">fun</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">synthetic_cdisc_dataset</span><span class="op">)</span>

<span class="co"># set arguments to function</span>
<span class="va">fun</span><span class="op">$</span><span class="fu">set_args</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adsl"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># execute function with arguments set</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">fun</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 39</span></span>
<span class="co">#&gt;   STUDYID USUBJID   SUBJID SITEID   AGE SEX   RACE    COUNTRY DTHFL INVID INVNAM</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> AB12345 AB12345-… id-128 CHN-3     32 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> AB12345 AB12345-… id-262 CHN-15    35 M     BLACK … CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> AB12345 AB12345-… id-378 RUS-3     30 F     ASIAN   RUS     N     INV … Dr. R…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> AB12345 AB12345-… id-220 CHN-11    26 F     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> AB12345 AB12345-… id-267 CHN-7     40 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> AB12345 AB12345-… id-201 CHN-15    49 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 28 more variables: ARM &lt;fct&gt;, ARMCD &lt;fct&gt;, ACTARM &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   ACTARMCD &lt;fct&gt;, REGION1 &lt;fct&gt;, STRATA1 &lt;fct&gt;, STRATA2 &lt;fct&gt;, BMRKR1 &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   BMRKR2 &lt;fct&gt;, ITTFL &lt;fct&gt;, SAFFL &lt;fct&gt;, BMEASIFL &lt;fct&gt;, BEP01FL &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   RANDDT &lt;date&gt;, TRTSDTM &lt;dttm&gt;, TRTEDTM &lt;dttm&gt;, EOSSTT &lt;fct&gt;, EOTSTT &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   EOSDT &lt;date&gt;, EOSDY &lt;int&gt;, DCSREAS &lt;fct&gt;, DTHDT &lt;date&gt;, DTHCAUS &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DTHCAT &lt;fct&gt;, LDDTHELD &lt;int&gt;, LDDTHGR1 &lt;fct&gt;, LSTALVDT &lt;date&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   study_duration_secs &lt;dbl&gt;</span></span>

<span class="co"># check reproducible code</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">fun</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span></code></pre></div>
<p>It’s also possible to execute <code>fun$run()</code> function with arguments added on the fly in a named <code>list</code>. Dynamic arguments won’t be reflected in the reproducible code, what will have a consequences in other places - we will get back to this in later stages of the documentation.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># add arguments on the fly</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">fun</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adae"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 69</span></span>
<span class="co">#&gt;   STUDYID USUBJID   SUBJID SITEID   AGE SEX   RACE  COUNTRY DTHFL INVID  INVNAM </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> AB12345 AB12345-… id-134 BRA-1     47 M     WHITE BRA     N     INV I… Dr. BR…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> AB12345 AB12345-… id-134 BRA-1     47 M     WHITE BRA     N     INV I… Dr. BR…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> AB12345 AB12345-… id-134 BRA-1     47 M     WHITE BRA     N     INV I… Dr. BR…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> AB12345 AB12345-… id-134 BRA-1     47 M     WHITE BRA     N     INV I… Dr. BR…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> AB12345 AB12345-… id-141 BRA-1     35 F     WHITE BRA     N     INV I… Dr. BR…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> AB12345 AB12345-… id-141 BRA-1     35 F     WHITE BRA     N     INV I… Dr. BR…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 58 more variables: ARM &lt;fct&gt;, ARMCD &lt;fct&gt;, ACTARM &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   ACTARMCD &lt;fct&gt;, REGION1 &lt;fct&gt;, STRATA1 &lt;fct&gt;, STRATA2 &lt;fct&gt;, BMRKR1 &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   BMRKR2 &lt;fct&gt;, ITTFL &lt;fct&gt;, SAFFL &lt;fct&gt;, BMEASIFL &lt;fct&gt;, BEP01FL &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   RANDDT &lt;date&gt;, TRTSDTM &lt;dttm&gt;, TRTEDTM &lt;dttm&gt;, EOSSTT &lt;fct&gt;, EOTSTT &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   EOSDT &lt;date&gt;, EOSDY &lt;int&gt;, DCSREAS &lt;fct&gt;, DTHDT &lt;date&gt;, DTHCAUS &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DTHCAT &lt;fct&gt;, LDDTHELD &lt;int&gt;, LDDTHGR1 &lt;fct&gt;, LSTALVDT &lt;date&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   study_duration_secs &lt;dbl&gt;, ASEQ &lt;int&gt;, AESEQ &lt;int&gt;, AETERM &lt;fct&gt;, …</span></span>

<span class="co"># dynamic arguments not reflected in the call</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">fun</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span></code></pre></div>
<p><code>CallableFunction</code> can also depend on other R objects as the example function below depends on <code>ADSL</code>. The function can be executed in specific environment where we can copy objects needed to execute call. To include object in the function call, one has to use <code>$assign_to_env()</code> to copy object and <code>$set_args(list(ADSL = as.symbol(ADSL)))</code> to link object with function argument.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_dataset.html" class="external-link">synthetic_cdisc_dataset</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adsl"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span> <span class="co"># nolint</span>

<span class="va">fun</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">ADSL</span><span class="op">)</span> <span class="op">{</span> <span class="co"># nolint</span>
  <span class="va">ADSL_2</span> <span class="op">&lt;-</span> <span class="va">ADSL</span> <span class="co"># nolint</span>
  <span class="va">ADSL_2</span><span class="op">$</span><span class="va">new_col</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># nolint</span>
  <span class="va">ADSL_2</span>
<span class="op">}</span><span class="op">)</span>

<span class="co"># copy ADSL to CallableFunction environment</span>
<span class="va">fun</span><span class="op">$</span><span class="fu">assign_to_env</span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="va">ADSL</span><span class="op">)</span>

<span class="co"># set arguments</span>
<span class="va">fun</span><span class="op">$</span><span class="fu">set_args</span><span class="op">(</span>args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/name.html" class="external-link">as.name</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="co"># execute function</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">fun</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 40</span></span>
<span class="co">#&gt;   STUDYID USUBJID   SUBJID SITEID   AGE SEX   RACE    COUNTRY DTHFL INVID INVNAM</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> AB12345 AB12345-… id-128 CHN-3     32 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> AB12345 AB12345-… id-262 CHN-15    35 M     BLACK … CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> AB12345 AB12345-… id-378 RUS-3     30 F     ASIAN   RUS     N     INV … Dr. R…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> AB12345 AB12345-… id-220 CHN-11    26 F     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> AB12345 AB12345-… id-267 CHN-7     40 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> AB12345 AB12345-… id-201 CHN-15    49 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 29 more variables: ARM &lt;fct&gt;, ARMCD &lt;fct&gt;, ACTARM &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   ACTARMCD &lt;fct&gt;, REGION1 &lt;fct&gt;, STRATA1 &lt;fct&gt;, STRATA2 &lt;fct&gt;, BMRKR1 &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   BMRKR2 &lt;fct&gt;, ITTFL &lt;fct&gt;, SAFFL &lt;fct&gt;, BMEASIFL &lt;fct&gt;, BEP01FL &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   RANDDT &lt;date&gt;, TRTSDTM &lt;dttm&gt;, TRTEDTM &lt;dttm&gt;, EOSSTT &lt;fct&gt;, EOTSTT &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   EOSDT &lt;date&gt;, EOSDY &lt;int&gt;, DCSREAS &lt;fct&gt;, DTHDT &lt;date&gt;, DTHCAUS &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DTHCAT &lt;fct&gt;, LDDTHELD &lt;int&gt;, LDDTHGR1 &lt;fct&gt;, LSTALVDT &lt;date&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   study_duration_secs &lt;dbl&gt;, new_col &lt;lgl&gt;</span></span>

<span class="co"># get R code</span>
<span class="va">fun</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "(function(ADSL) {\n    ADSL_2 &lt;- ADSL\n    ADSL_2$new_col &lt;- TRUE\n    ADSL_2\n})(ADSL = ADSL)"</span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="callablecode">
<code>CallableCode</code><a class="anchor" aria-label="anchor" href="#callablecode"></a>
</h3>
<p>Simpler version of <code>Callable</code> class is <code>CallableCode</code>. Similarly to <code>CallableFunction</code>, <code>CallableCode</code> stores some code which can be evaluated using <code>run()</code> but it isn’t able to use dynamic arguments to have the code more general. <code>CallableCode</code> also allows the assignment of objects to an independent environment. <code>CallableCode</code> can contain multiple lines code and also allows <code>library</code> calls. Please note that objects assigned to this independent environment can’t be modified because they are locked immediately. This means that in <code>CallableCode</code> created below it is not allowed to make any changes in <code>ADSL</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">code</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/callable_code.html">callable_code</a></span><span class="op">(</span>
  <span class="st">"ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = \"adtte\", name = \"latest\")
  ADTTE$x1 &lt;- 1
  ADTTE &lt;- dplyr::filter(ADTTE, PARAMCD %in% c('EFS', 'OS'))"</span>
<span class="op">)</span>

<span class="co"># examine call</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">code</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = "adtte", name = "latest")</span>
<span class="co">#&gt; ADTTE$x1 &lt;- 1</span>
<span class="co">#&gt; ADTTE &lt;- dplyr::filter(ADTTE, PARAMCD %in% c("EFS", "OS"))</span>

<span class="co"># assign ADSL to environment</span>
<span class="va">code</span><span class="op">$</span><span class="fu">assign_to_env</span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="va">ADSL</span><span class="op">)</span>

<span class="co"># evaluate call</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">code</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 51</span></span>
<span class="co">#&gt;   STUDYID USUBJID   SUBJID SITEID   AGE SEX   RACE    COUNTRY DTHFL INVID INVNAM</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> AB12345 AB12345-… id-105 BRA-1     38 M     BLACK … BRA     N     INV … Dr. B…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> AB12345 AB12345-… id-105 BRA-1     38 M     BLACK … BRA     N     INV … Dr. B…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> AB12345 AB12345-… id-134 BRA-1     47 M     WHITE   BRA     N     INV … Dr. B…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> AB12345 AB12345-… id-134 BRA-1     47 M     WHITE   BRA     N     INV … Dr. B…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> AB12345 AB12345-… id-141 BRA-1     35 F     WHITE   BRA     N     INV … Dr. B…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> AB12345 AB12345-… id-141 BRA-1     35 F     WHITE   BRA     N     INV … Dr. B…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 40 more variables: ARM &lt;fct&gt;, ARMCD &lt;fct&gt;, ACTARM &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   ACTARMCD &lt;fct&gt;, REGION1 &lt;fct&gt;, STRATA1 &lt;fct&gt;, STRATA2 &lt;fct&gt;, BMRKR1 &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   BMRKR2 &lt;fct&gt;, ITTFL &lt;fct&gt;, SAFFL &lt;fct&gt;, BMEASIFL &lt;fct&gt;, BEP01FL &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   RANDDT &lt;date&gt;, TRTSDTM &lt;dttm&gt;, TRTEDTM &lt;dttm&gt;, EOSSTT &lt;fct&gt;, EOTSTT &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   EOSDT &lt;date&gt;, EOSDY &lt;int&gt;, DCSREAS &lt;fct&gt;, DTHDT &lt;date&gt;, DTHCAUS &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DTHCAT &lt;fct&gt;, LDDTHELD &lt;int&gt;, LDDTHGR1 &lt;fct&gt;, LSTALVDT &lt;date&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   study_duration_secs &lt;dbl&gt;, ASEQ &lt;int&gt;, TTESEQ &lt;int&gt;, PARAM &lt;fct&gt;, …</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tealdataset-including-cdisctealdataset">
<code>TealDataset</code> (including <code>CDISCTealDataset</code>)<a class="anchor" aria-label="anchor" href="#tealdataset-including-cdisctealdataset"></a>
</h3>
<p><code>TealDataset</code> object is an R6 class which keeps a <code>data.frame</code> in its <code>raw_data</code> slot. One can create a <code>TealDataset</code> by including <code>data.frame</code> and setting data attributes. In the example below we first create <code>adsl</code> and then put this <code>data.frame</code> into the <code>cdisc_dataset</code> function. Together with <code>data.frame</code> one should always provide a <code>dataname</code> and <code>code</code> to reproduce the data. For irreproducible apps <code>code</code> can be omitted.</p>
<p>Note <code>cdisc_dataset</code> returns an object of <code>CDISCTealDataset</code> (inherited from <code>TealDataset</code>) which allows datasets to have parents and is needed for CDISC analysis.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span>

<span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_dataset.html" class="external-link">synthetic_cdisc_dataset</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adsl"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="co"># nolint</span>

<span class="va">adsl_dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cdisc_dataset.html">cdisc_dataset</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL"</span>,
  x <span class="op">=</span> <span class="va">ADSL</span>,
  code <span class="op">=</span> <span class="st">"ADSL &lt;- synthetic_cdisc_dataset(dataset_name = \"adsl\", name = \"latest\") %&gt;% head(3)"</span>
<span class="op">)</span></code></pre></div>
<p>The object created above contains all previously defined attributes which can be extracted in any occasion.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># check if code is reproducible</span>
<span class="fu"><a href="../reference/get_dataname.html">get_dataname</a></span><span class="op">(</span><span class="va">adsl_dataset</span><span class="op">)</span>
<span class="co">#&gt; [1] "ADSL"</span>

<span class="co"># get label</span>
<span class="fu"><a href="../reference/get_dataset_label.html">get_dataset_label</a></span><span class="op">(</span><span class="va">adsl_dataset</span><span class="op">)</span>
<span class="co">#&gt; [1] "Subject Level Analysis Dataset"</span>

<span class="co"># get reproducible code</span>
<span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">adsl_dataset</span><span class="op">)</span>
<span class="co">#&gt; [1] "ADSL &lt;- synthetic_cdisc_dataset(dataset_name = \"adsl\", name = \"latest\") %&gt;% head(3)"</span>

<span class="co"># get data.frame</span>
<span class="fu"><a href="../reference/get_raw_data.html">get_raw_data</a></span><span class="op">(</span><span class="va">adsl_dataset</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 39</span></span>
<span class="co">#&gt;   STUDYID USUBJID   SUBJID SITEID   AGE SEX   RACE    COUNTRY DTHFL INVID INVNAM</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> AB12345 AB12345-… id-128 CHN-3     32 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> AB12345 AB12345-… id-262 CHN-15    35 M     BLACK … CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> AB12345 AB12345-… id-378 RUS-3     30 F     ASIAN   RUS     N     INV … Dr. R…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 28 more variables: ARM &lt;fct&gt;, ARMCD &lt;fct&gt;, ACTARM &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   ACTARMCD &lt;fct&gt;, REGION1 &lt;fct&gt;, STRATA1 &lt;fct&gt;, STRATA2 &lt;fct&gt;, BMRKR1 &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   BMRKR2 &lt;fct&gt;, ITTFL &lt;fct&gt;, SAFFL &lt;fct&gt;, BMEASIFL &lt;fct&gt;, BEP01FL &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   RANDDT &lt;date&gt;, TRTSDTM &lt;dttm&gt;, TRTEDTM &lt;dttm&gt;, EOSSTT &lt;fct&gt;, EOTSTT &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   EOSDT &lt;date&gt;, EOSDY &lt;int&gt;, DCSREAS &lt;fct&gt;, DTHDT &lt;date&gt;, DTHCAUS &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DTHCAT &lt;fct&gt;, LDDTHELD &lt;int&gt;, LDDTHGR1 &lt;fct&gt;, LSTALVDT &lt;date&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   study_duration_secs &lt;dbl&gt;</span></span>

<span class="co"># get keys (i.e. the primary keys of the dataset)</span>
<span class="va">adsl_dataset</span><span class="op">$</span><span class="fu">get_keys</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "STUDYID" "USUBJID"</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tealdatasetconnector-including-cdisctealdatasetconnector">
<code>TealDatasetConnector</code> (including <code>CDISCTealDatasetConnector</code>)<a class="anchor" aria-label="anchor" href="#tealdatasetconnector-including-cdisctealdatasetconnector"></a>
</h3>
<p><code>TealDatasetConnector</code> contains <code>Callable</code> object to obtain a single dataset along with other information such as keys, dataname, label and reproducible code. In the code chunk below, connector is created basing on <code>synthetic_cdisc_dataset</code> function</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl_conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dataset_connector.html">dataset_connector</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL"</span>,
  pull_callable <span class="op">=</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span><span class="st">"synthetic_cdisc_dataset"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/set_args.html">set_args</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adsl"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span><span class="op">)</span>,
  keys <span class="op">=</span> <span class="fu"><a href="../reference/get_cdisc_keys.html">get_cdisc_keys</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span>,
  label <span class="op">=</span> <span class="st">"Subject-Level Analysis Dataset"</span>
<span class="op">)</span></code></pre></div>
<p>Initially, <code>adsl_conn</code> doesn’t contain any data, but they can be loaded using <code><a href="../reference/load_dataset.html">load_dataset()</a></code> function. Before data loading, <code>adsl_conn</code> contains reproducible code which is also an execution code to pull the data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># execution/reproducible code</span>
<span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">adsl_conn</span><span class="op">)</span>
<span class="co">#&gt; [1] "ADSL &lt;- synthetic_cdisc_dataset(dataset_name = \"adsl\", name = \"latest\")"</span>

<span class="co"># pull data</span>
<span class="fu"><a href="../reference/load_dataset.html">load_dataset</a></span><span class="op">(</span><span class="va">adsl_conn</span><span class="op">)</span>

<span class="co"># get raw data</span>
<span class="fu"><a href="../reference/get_raw_data.html">get_raw_data</a></span><span class="op">(</span><span class="va">adsl_conn</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 400 × 39</span></span>
<span class="co">#&gt;    STUDYID USUBJID  SUBJID SITEID   AGE SEX   RACE    COUNTRY DTHFL INVID INVNAM</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> AB12345 AB12345… id-128 CHN-3     32 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> AB12345 AB12345… id-262 CHN-15    35 M     BLACK … CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> AB12345 AB12345… id-378 RUS-3     30 F     ASIAN   RUS     N     INV … Dr. R…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> AB12345 AB12345… id-220 CHN-11    26 F     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> AB12345 AB12345… id-267 CHN-7     40 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> AB12345 AB12345… id-201 CHN-15    49 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> AB12345 AB12345… id-45  USA-1     34 F     ASIAN   USA     N     INV … Dr. U…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> AB12345 AB12345… id-261 USA-1     32 F     ASIAN   USA     N     INV … Dr. U…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> AB12345 AB12345… id-173 NGA-11    24 F     BLACK … NGA     N     INV … Dr. N…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> AB12345 AB12345… id-307 CHN-1     24 M     ASIAN   CHN     N     INV … Dr. C…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 390 more rows, and 28 more variables: ARM &lt;fct&gt;, ARMCD &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   ACTARM &lt;fct&gt;, ACTARMCD &lt;fct&gt;, REGION1 &lt;fct&gt;, STRATA1 &lt;fct&gt;, STRATA2 &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   BMRKR1 &lt;dbl&gt;, BMRKR2 &lt;fct&gt;, ITTFL &lt;fct&gt;, SAFFL &lt;fct&gt;, BMEASIFL &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   BEP01FL &lt;fct&gt;, RANDDT &lt;date&gt;, TRTSDTM &lt;dttm&gt;, TRTEDTM &lt;dttm&gt;, EOSSTT &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   EOTSTT &lt;fct&gt;, EOSDT &lt;date&gt;, EOSDY &lt;int&gt;, DCSREAS &lt;fct&gt;, DTHDT &lt;date&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DTHCAUS &lt;fct&gt;, DTHCAT &lt;fct&gt;, LDDTHELD &lt;int&gt;, LDDTHGR1 &lt;fct&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   LSTALVDT &lt;date&gt;, study_duration_secs &lt;dbl&gt;</span></span></code></pre></div>
<p><code>teal</code> also allows other variables to be passed to the connector which <code>Callable</code> object can depend on. In the code below, one can add an <code>adsl</code> object created above and <code>set_args</code> to <code>CallableFunction</code>. To properly link <code>ADSL</code> argument several parameters have to match: 1. <code>dataname</code> of <code>adsl</code> should be <code>"ADSL"</code> 2. <code>vars = list(ADSL = adsl)</code> - <code>adsl</code> object should be passed to vars as a list element with name <code>ADSL</code>. 3. Value of the <code>ADSL</code> argument in the <code>CallableFunction</code> has to be <code>as.name("ADSL")</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># here we use the general dataset_connector function which pulls an object of type TealDataset</span>
<span class="co"># there is also a cdisc_dataset_connector function which pulls an object of type CDISCTealDataset</span>
<span class="va">adsl_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dataset_connector.html">dataset_connector</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL_2"</span>,
  pull_callable <span class="op">=</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">ADSL</span><span class="op">)</span> <span class="va">ADSL_2</span> <span class="op">&lt;-</span> <span class="va">ADSL</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="co"># nolint</span>
    <span class="fu"><a href="../reference/set_args.html">set_args</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/name.html" class="external-link">as.name</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
  keys <span class="op">=</span> <span class="fu"><a href="../reference/get_cdisc_keys.html">get_cdisc_keys</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span>,
  label <span class="op">=</span> <span class="st">"Example label"</span>,
  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="va">ADSL</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/load_dataset.html">load_dataset</a></span><span class="op">(</span><span class="va">adsl_2</span><span class="op">)</span></code></pre></div>
<p><code>TealDatasetConnector</code> like the other delayed data objects contains a <code>launch</code> method which can be used to obtain data using shiny application. This function can be used to check if the objects are specified correctly and to investigate potential mistakes. By default shiny app won’t render any inputs for datasets until we specify them. To set inputs we should use <code>$set_ui_input()</code>, by passing ui module function, with <code>ns</code> argument (shiny namespaced ID object).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dataset_connector.html">dataset_connector</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL_3"</span>,
  pull_callable <span class="op">=</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">ADSL</span>, <span class="va">n</span><span class="op">)</span> <span class="va">ADSL_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ADSL</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="co"># nolint</span>
    <span class="fu"><a href="../reference/set_args.html">set_args</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/name.html" class="external-link">as.name</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
  keys <span class="op">=</span> <span class="fu"><a href="../reference/get_cdisc_keys.html">get_cdisc_keys</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span>,
  label <span class="op">=</span> <span class="st">"Example label"</span>,
  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="va">ADSL</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">adsl_3</span><span class="op">$</span><span class="fu">set_ui_input</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">ns</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html" class="external-link">numericInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="st">"n"</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Choose number of records"</span>, min <span class="op">=</span> <span class="fl">0</span>, value <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">}</span><span class="op">)</span>

<span class="va">adsl_3</span><span class="op">$</span><span class="fu">launch</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tealdataconnection">
<code>TealDataConnection</code><a class="anchor" aria-label="anchor" href="#tealdataconnection"></a>
</h3>
<p>Objects of this class are responsible to set connection with remote data sources. <code>TealDataConnection</code> opens and closes connections by calling <code>CallableFunction</code> with appropriate arguments. For example in a simplified version of <code>rice_connection</code> below, a <code>TealDataConnection</code>uses <code>rice_session_open</code> and <code>rice_session_close</code> functions.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="st">"rice"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/parse.html" class="external-link">parse</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"library(rice)"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">open_fun</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span><span class="st">"rice::rice_session_open"</span><span class="op">)</span>
<span class="va">close_fun</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span><span class="st">"rice::rice_session_close"</span><span class="op">)</span>
<span class="va">close_fun</span><span class="op">$</span><span class="fu">set_args</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>message <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>

<span class="va">rice_conn</span> <span class="op">&lt;-</span> <span class="fu">teal</span><span class="fu">:::</span><span class="va"><a href="../reference/TealDataConnection.html">TealDataConnection</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  open_fun <span class="op">=</span> <span class="va">open_fun</span>,
  close_fun <span class="op">=</span> <span class="va">close_fun</span>
<span class="op">)</span></code></pre></div>
<p>One can open and close connection by using <code>rice_conn$open()</code> and <code>rice_conn$close()</code> functions respectively. As in <code>TealDatasetConnector$pull()</code>, <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">open()</a></code> and <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">close()</a></code> delegates function execution to <code>CallableFunction$run()</code>. Developers should use <code>rice_conn$set_open_args()</code> to set some argument values to the reproducible call. Arguments values set to the <code>CallableFunction</code> are saved persistently and will be reflected when getting open code. Arguments passed to <code>rice_conn$open()</code> will be used only to execute the function, but won’t be returned in the code as they are not stored anywhere. This feature is designed to hide some arguments from being revealed in the code and can be intentional - for example, when using personal passwords or other sensitive information. In code below <code>username</code> is set (and stored) to the open function and <code>password</code> is a dynamic argument not included in <code>rice_conn$get_open_call()</code> output.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># set open args</span>
<span class="va">rice_conn</span><span class="op">$</span><span class="fu">set_open_args</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>username <span class="op">=</span> <span class="st">"your username"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># open the rice connection</span>
<span class="va">rice_conn</span><span class="op">$</span><span class="fu">open</span><span class="op">(</span>args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>password <span class="op">=</span> <span class="st">"your password"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># check if open (open function evaluated successfully)</span>
<span class="va">rice_conn</span><span class="op">$</span><span class="fu">is_opened</span><span class="op">(</span><span class="op">)</span>

<span class="co"># check if open failed</span>
<span class="va">rice_conn</span><span class="op">$</span><span class="fu">is_open_failed</span><span class="op">(</span><span class="op">)</span>

<span class="co"># close</span>
<span class="va">rice_conn</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span>

<span class="co"># get reproducible call</span>
<span class="va">rice_conn</span><span class="op">$</span><span class="fu">get_open_call</span><span class="op">(</span><span class="op">)</span>
<span class="va">rice_conn</span><span class="op">$</span><span class="fu">get_close_call</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>In <code>shiny</code> application connection arguments needs to be linked with <code>inputs</code>, that is why <code>TealDataConnection</code> contains a module. Developers can customize UI inputs to open the connection using <code>set_open_ui()</code> and specify a relevant server function using <code>set_open_server()</code>. It’s important to keep in mind that the server module needs a connection as a argument to <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">open()</a></code> and <code><a href="https://rdrr.io/r/base/connections.html" class="external-link">close()</a></code> if needed.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rice_conn</span><span class="op">$</span><span class="fu">set_open_ui</span><span class="op">(</span>
  <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span>
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">div</a></span><span class="op">(</span>
      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"username"</span><span class="op">)</span>, <span class="st">"Username"</span><span class="op">)</span>,
      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/passwordInput.html" class="external-link">passwordInput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"password"</span><span class="op">)</span>, <span class="st">"Password"</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">}</span>
<span class="op">)</span>

<span class="va">rice_conn</span><span class="op">$</span><span class="fu">set_open_server</span><span class="op">(</span>
  <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span>, <span class="va">connection</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">connection</span><span class="op">$</span><span class="fu">open</span><span class="op">(</span>
      args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
        username <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">username</span>,
        password <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">password</span>
      <span class="op">)</span>,
      try <span class="op">=</span> <span class="cn">TRUE</span>
    <span class="op">)</span>

    <span class="kw">if</span> <span class="op">(</span><span class="va">connection</span><span class="op">$</span><span class="fu">is_open_failed</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
      <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shinyjs/man/messageFuncs.html" class="external-link">alert</a></span><span class="op">(</span>
        <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Error opening connection\nError message:"</span>, <span class="va">connection</span><span class="op">$</span><span class="fu">get_open_error_message</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
      <span class="op">)</span>
    <span class="op">}</span>
  <span class="op">}</span>
<span class="op">)</span>

<span class="va">rice_conn</span><span class="op">$</span><span class="fu">launch</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tealdataconnector-including-cdisctealdataconnector">
<code>TealDataConnector</code> (including <code>CDISCTealDataConnector</code>)<a class="anchor" aria-label="anchor" href="#tealdataconnector-including-cdisctealdataconnector"></a>
</h3>
<p>This class combines multiple <code>TealDatasetConnector</code> (or <code>CDISCTealDatasetConnector</code>) and a single <code>TealDataConnection</code> object. It creates a module to manage connection and to load data. Below we create two <code>TealDatasetConnector</code> objects and a <code>TealDataConnection</code> and we combine them together in a <code>TealDataConnector</code> object.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create TealDatasetConnectors</span>
<span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dataset_connector.html">dataset_connector</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL"</span>,
  pull_callable <span class="op">=</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span><span class="st">"synthetic_cdisc_dataset"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/set_args.html">set_args</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adsl"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span><span class="op">)</span>,
  keys <span class="op">=</span> <span class="fu"><a href="../reference/get_cdisc_keys.html">get_cdisc_keys</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span>,
  label <span class="op">=</span> <span class="st">"Subject-Level Analysis Dataset"</span>
<span class="op">)</span>

<span class="va">adsl_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dataset_connector.html">dataset_connector</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL_3"</span>,
  pull_callable <span class="op">=</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">ADSL</span>, <span class="va">name</span>, <span class="va">n</span> <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="va">ADSL_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ADSL</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="co"># nolint</span>
    <span class="fu"><a href="../reference/set_args.html">set_args</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/name.html" class="external-link">as.name</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
  keys <span class="op">=</span> <span class="fu"><a href="../reference/get_cdisc_keys.html">get_cdisc_keys</a></span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span>,
  label <span class="op">=</span> <span class="st">"Example label"</span>,
  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="va">adsl</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">adsl_3</span><span class="op">$</span><span class="fu">set_ui_input</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">ns</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html" class="external-link">numericInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="st">"n"</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Choose number of records"</span>, min <span class="op">=</span> <span class="fl">0</span>, value <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">}</span><span class="op">)</span>

<span class="va">connectors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">adsl</span>, <span class="va">adsl_3</span><span class="op">)</span>

<span class="co"># create connection</span>
<span class="va">scda_open_fun</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/callable_function.html">callable_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">library</span><span class="op">)</span>
<span class="va">scda_open_fun</span><span class="op">$</span><span class="fu">set_args</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"scda"</span><span class="op">)</span><span class="op">)</span>
<span class="va">scda_conn</span> <span class="op">&lt;-</span> <span class="fu">teal</span><span class="fu">:::</span><span class="va"><a href="../reference/TealDataConnection.html">TealDataConnection</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>open_fun <span class="op">=</span> <span class="va">scda_open_fun</span><span class="op">)</span> <span class="co"># nolint</span>

<span class="co"># create TealDataConnector</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">teal</span><span class="fu">:::</span><span class="va"><a href="../reference/TealDataConnector.html">TealDataConnector</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  connection <span class="op">=</span> <span class="va">scda_conn</span>,
  connectors <span class="op">=</span> <span class="va">connectors</span>
<span class="op">)</span></code></pre></div>
<p>The object created above can be used to pull data and obtain the code. It combines code to pull the datasets preceded by any open connection code and followed by any close connection code. Please note that <code>TealDataConnector</code> doesn’t limit what kind of connectors are set within, but one must be aware that it should rather contain similar connectors (i.e. calling functions which share some arguments). For example, if we execute <code>data$set_pull_args(args = list(name = "latest"))</code>, this argument will be set for all connectors. In case when one connector contains <code>CallableFunction</code> which doesn’t have <code>seed</code> in its formals then it will fail. <code>CallableCode</code> can’t hold any additional arguments as it’s fixed and it will ignore every arguments set with <code>set_pull_args</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; library(package = "scda")</span>
<span class="co">#&gt; ADSL &lt;- synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span>
<span class="co">#&gt; ADSL_3 &lt;- (function(ADSL, name, n = 5) ADSL_3 &lt;- head(ADSL, n))(ADSL = ADSL)</span>

<span class="co"># pull ADSL and ADSL_3</span>
<span class="va">data</span><span class="op">$</span><span class="fu">set_pull_args</span><span class="op">(</span>args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="fu">pull</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>By default <code>TealDataConnector</code> creates simple shiny module without any inputs for connectors and datasets. This means that connection opening/closing and pulling datasets are done on default arguments. However, users can easily extend the module using <code>set_ui()</code> and <code>set_server()</code> to specify the UI and server function themselves. The general rule for creating these modules is that callback from server to UI is not possible, because server module is executed after the submit button is clicked. Although see <code>set_preopen_server</code> of <code>TealDataConnection</code> object for a slight relaxation of this rule. Below we extend the app interface by adding a text input which will be passed to the <code>scda</code> function. The UI is created from <code>scda_conn</code> and <code>connectors</code> object while the server module requires <code>connectors</code> and <code>connection</code> objects as additional arguments.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span><span class="op">$</span><span class="fu">set_ui</span><span class="op">(</span>
  <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span>
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/tagList.html" class="external-link">tagList</a></span><span class="op">(</span>
      <span class="va">scda_conn</span><span class="op">$</span><span class="fu">get_open_ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"open_connection"</span><span class="op">)</span><span class="op">)</span>,
      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"name"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Choose"</span>, <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">code</a></span><span class="op">(</span><span class="st">"name"</span><span class="op">)</span><span class="op">)</span>, value <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span>,
      <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span>
        what <span class="op">=</span> <span class="st">"tagList"</span>,
        args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span>
          <span class="va">connectors</span>,
          <span class="kw">function</span><span class="op">(</span><span class="va">connector</span><span class="op">)</span> <span class="op">{</span>
            <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">div</a></span><span class="op">(</span>
              <span class="va">connector</span><span class="op">$</span><span class="fu">get_ui</span><span class="op">(</span>
                id <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="va">connector</span><span class="op">$</span><span class="fu">get_dataname</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
              <span class="op">)</span>,
              <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">br</a></span><span class="op">(</span><span class="op">)</span>
            <span class="op">)</span>
          <span class="op">}</span>
        <span class="op">)</span>
      <span class="op">)</span>
    <span class="op">)</span>
  <span class="op">}</span>
<span class="op">)</span>

<span class="va">data</span><span class="op">$</span><span class="fu">set_server</span><span class="op">(</span>
  <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">connection</span>, <span class="va">connectors</span><span class="op">)</span> <span class="op">{</span>
    <span class="co"># opens connection</span>
    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">connection</span><span class="op">$</span><span class="fu">get_open_server</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
      <span class="va">connection</span><span class="op">$</span><span class="fu">get_open_server</span><span class="op">(</span><span class="op">)</span><span class="op">(</span>
        id <span class="op">=</span> <span class="st">"open_connection"</span>,
        connection <span class="op">=</span> <span class="va">connection</span>
      <span class="op">)</span>
    <span class="op">}</span>

    <span class="kw">for</span> <span class="op">(</span><span class="va">connector</span> <span class="kw">in</span> <span class="va">connectors</span><span class="op">)</span> <span class="op">{</span>
      <span class="co"># set_args before to return them in the code (fixed args)</span>
      <span class="fu"><a href="../reference/set_args.html">set_args</a></span><span class="op">(</span><span class="va">connector</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">)</span>

      <span class="co"># pull each dataset</span>
      <span class="va">connector</span><span class="op">$</span><span class="fu">get_server</span><span class="op">(</span><span class="op">)</span><span class="op">(</span>id <span class="op">=</span> <span class="va">connector</span><span class="op">$</span><span class="fu">get_dataname</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
      <span class="kw">if</span> <span class="op">(</span><span class="va">connector</span><span class="op">$</span><span class="fu">is_failed</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
        <span class="kw">break</span>
      <span class="op">}</span>
    <span class="op">}</span>
  <span class="op">}</span>
<span class="op">)</span></code></pre></div>
<p>Executing <code>data$launch()</code> will open shiny application. Remember that data can be loaded only once, in case you run above code please reinitialize datasets, connection and data object again.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># if datasets have been pulled already</span>
<span class="co">#  - reinitialize datasets and data object again</span>
<span class="va">data</span><span class="op">$</span><span class="fu">launch</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tealdata-including-cdisctealdata">
<code>TealData</code> (including <code>CDISCTealData</code>)<a class="anchor" aria-label="anchor" href="#tealdata-including-cdisctealdata"></a>
</h3>
<p><code>TealData</code> manages <code>TealDataset</code>, <code>TealDatasetConnector</code> and <code>TealDataConnector</code> objects. <code>CDISCTealData</code> is the equivalent object when creating apps to analyse CDISC data. These objects are created using <code>teal_data</code> and <code>cdisc_data</code> respectively and these objects are passed as the <code>data</code> argument into <code><a href="../reference/init.html">teal::init</a></code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cdisc_data.html">cdisc_data</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/cdisc_dataset.html">cdisc_dataset</a></span><span class="op">(</span>
    dataname <span class="op">=</span> <span class="st">"ADSL"</span>,
    <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_dataset.html" class="external-link">synthetic_cdisc_dataset</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adsl"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span>,
    code <span class="op">=</span> <span class="st">"ADSL &lt;- synthetic_cdisc_dataset(dataset_name = \"adsl\", name = \"latest\")"</span>
  <span class="op">)</span>,
  <span class="fu"><a href="../reference/cdisc_dataset.html">cdisc_dataset</a></span><span class="op">(</span>
    dataname <span class="op">=</span> <span class="st">"ADTTE"</span>,
    <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_dataset.html" class="external-link">synthetic_cdisc_dataset</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adtte"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span>,
    code <span class="op">=</span> <span class="st">"ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = \"adtte\", name = \"latest\")"</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>One can combine multiple delayed data objects using <code>[teal|cdisc]_data</code> functions and include them in a shiny application. <code>TealData</code> gathers all objects and sets combined UI with shiny inputs from all objects. In the code chunk below we specified four dataset connectors but developers can include any number and any type of objects.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scda_dataset_connector.html">scda_cdisc_dataset_connector</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="st">"adsl"</span><span class="op">)</span>
<span class="va">adae</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scda_dataset_connector.html">scda_cdisc_dataset_connector</a></span><span class="op">(</span><span class="st">"ADAE"</span>, <span class="st">"adae"</span><span class="op">)</span>
<span class="va">advs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scda_dataset_connector.html">scda_cdisc_dataset_connector</a></span><span class="op">(</span><span class="st">"ADVS"</span>, <span class="st">"advs"</span><span class="op">)</span>
<span class="va">adtte</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scda_dataset_connector.html">scda_cdisc_dataset_connector</a></span><span class="op">(</span><span class="st">"ADTTE"</span>, <span class="st">"adtte"</span><span class="op">)</span>

<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cdisc_data.html">cdisc_data</a></span><span class="op">(</span><span class="va">adsl</span>, <span class="va">adae</span>, <span class="va">advs</span>, <span class="va">adtte</span><span class="op">)</span></code></pre></div>
<p>Similar to other connectors one can use <code>launch()</code> method to investigate if data is set correctly. Unlike the other connectors, this class lacks <code>pull()</code> method.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span><span class="op">$</span><span class="fu">launch</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Reproducible code attached to the <code>data</code> object is a combined code of all components, but one can also extract code from single dataset by specifying <code>dataname</code> argument.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
<span class="co">#&gt; [1] "ADSL &lt;- synthetic_cdisc_dataset(dataset_name = \"adsl\", name = \"latest\")\nADAE &lt;- synthetic_cdisc_dataset(dataset_name = \"adae\", name = \"latest\")\nADVS &lt;- synthetic_cdisc_dataset(dataset_name = \"advs\", name = \"latest\")\nADTTE &lt;- synthetic_cdisc_dataset(dataset_name = \"adtte\", name = \"latest\")"</span>
<span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span>, dataname <span class="op">=</span> <span class="st">"ADSL"</span><span class="op">)</span>
<span class="co">#&gt; [1] "ADSL &lt;- synthetic_cdisc_dataset(dataset_name = \"adsl\", name = \"latest\")"</span>
<span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span>, dataname <span class="op">=</span> <span class="st">"ADTTE"</span><span class="op">)</span>
<span class="co">#&gt; [1] "ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = \"adtte\", name = \"latest\")"</span></code></pre></div>
<p>Developers can also extract datasets and connectors included in the <code>TealData</code>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get loaded datasets</span>
<span class="va">data</span><span class="op">$</span><span class="fu">get_datasets</span><span class="op">(</span><span class="op">)</span>

<span class="co"># get single dataset</span>
<span class="va">data</span><span class="op">$</span><span class="fu">get_dataset</span><span class="op">(</span>dataname <span class="op">=</span> <span class="st">"ADSL"</span><span class="op">)</span>

<span class="co"># get data and dataset connectors</span>
<span class="va">data</span><span class="op">$</span><span class="fu">get_connectors</span><span class="op">(</span><span class="op">)</span>

<span class="co"># get all datasets/connectors</span>
<span class="va">data</span><span class="op">$</span><span class="fu">get_items</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-modification">Data modification<a class="anchor" aria-label="anchor" href="#data-modification"></a>
</h3>
<p>Since delayed data objects are just metadata before data is loaded there are dedicated functions to allow dataset mutations. To modify a single dataset one should use <code>mutate_dataset</code> by specifying <code>code</code> argument with code as a single character or <code>script</code> with location of the script file.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cdisc_dataset.html">cdisc_dataset</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL"</span>,
  <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_dataset.html" class="external-link">synthetic_cdisc_dataset</a></span><span class="op">(</span>dataset_name <span class="op">=</span> <span class="st">"adsl"</span>, name <span class="op">=</span> <span class="st">"latest"</span><span class="op">)</span>,
  code <span class="op">=</span> <span class="st">"ADSL &lt;- synthetic_cdisc_dataset(dataset_name = \"adsl\", name = \"latest\")"</span>
<span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/mutate_dataset.html">mutate_dataset</a></span><span class="op">(</span>code <span class="op">=</span> <span class="st">"ADSL$x1 &lt;- 1"</span><span class="op">)</span>


<span class="va">adtte</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scda_dataset_connector.html">scda_cdisc_dataset_connector</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADTTE"</span>, <span class="st">"adtte"</span>
<span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/mutate_dataset.html">mutate_dataset</a></span><span class="op">(</span>code <span class="op">=</span> <span class="st">"ADTTE$x2 &lt;- 2"</span><span class="op">)</span></code></pre></div>
<p><code><a href="../reference/get_code.html">get_code()</a></code> function returns loading code from <code>CallableFunction</code> and mutation code as provided in using <code>mutate_dataset</code>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADSL &lt;- synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span>
<span class="co">#&gt; ADSL$x1 &lt;- 1</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">adtte</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = "adtte", name = "latest")</span>
<span class="co">#&gt; ADTTE$x2 &lt;- 2</span></code></pre></div>
<p><code>mutate_dataset</code> can also be used on <code>TealData</code> objects which applies the <code>code</code> to the dataset specified in <code>dataname</code>. This is important, as <code>TealData</code> can track each call which affects this particular dataset. Check the code below, where we create data containing two datasets using the <code>cdisc_data</code> function. We can still use <code>mutate_dataset</code> on the object which contains multiple datasets, with one requirement - one needs to specify <code>dataname</code>. Afterwards, one can extract reproducible code from data which affects this particular <code>dataname</code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cdisc_data.html">cdisc_data</a></span><span class="op">(</span><span class="va">adsl</span>, <span class="va">adtte</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/mutate_dataset.html">mutate_dataset</a></span><span class="op">(</span>code <span class="op">=</span> <span class="st">"ADSL$x3 &lt;- 3"</span>, dataname <span class="op">=</span> <span class="st">"ADSL"</span><span class="op">)</span>

<span class="co"># get reproducible code of all datasets</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADSL &lt;- synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span>
<span class="co">#&gt; ADSL$x1 &lt;- 1</span>
<span class="co">#&gt; ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = "adtte", name = "latest")</span>
<span class="co">#&gt; ADTTE$x2 &lt;- 2</span>
<span class="co">#&gt; ADSL$x3 &lt;- 3</span>

<span class="co"># get ADSL reproducible code</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span>, dataname <span class="op">=</span> <span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADSL &lt;- synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span>
<span class="co">#&gt; ADSL$x1 &lt;- 1</span>
<span class="co">#&gt; ADSL$x3 &lt;- 3</span></code></pre></div>
<p>One can also combine multiple <code>mutate_dataset</code> calls applied interchangeably to all datasets.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mutate_dataset.html">mutate_dataset</a></span><span class="op">(</span><span class="va">data</span>, code <span class="op">=</span> <span class="st">"ADTTE$x4 &lt;- 4"</span>, dataname <span class="op">=</span> <span class="st">"ADTTE"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/mutate_dataset.html">mutate_dataset</a></span><span class="op">(</span>code <span class="op">=</span> <span class="st">"ADSL &lt;- dplyr::filter(ADSL, SEX == 'F')"</span>, dataname <span class="op">=</span> <span class="st">"ADSL"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADSL &lt;- synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span>
<span class="co">#&gt; ADSL$x1 &lt;- 1</span>
<span class="co">#&gt; ADSL$x3 &lt;- 3</span>
<span class="co">#&gt; ADSL &lt;- dplyr::filter(ADSL, SEX == "F")</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"ADTTE"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = "adtte", name = "latest")</span>
<span class="co">#&gt; ADTTE$x2 &lt;- 2</span>
<span class="co">#&gt; ADTTE$x4 &lt;- 4</span></code></pre></div>
<p>Sometimes code of one object can depend on another, in this case we can link them in the same way how we link <code>TealDatasetConnector</code> objects. If object code is dependent on another, as ADTTE depends on ADSL below, <code>get_code</code> will return everything we need to be executed to reproduce this dataset.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mutate_dataset.html">mutate_dataset</a></span><span class="op">(</span>
  <span class="va">data</span>,
  code <span class="op">=</span> <span class="st">"ADTTE &lt;- filter(ADTTE, USUBJID %in% ADSL$USUBJID)"</span>,
  dataname <span class="op">=</span> <span class="st">"ADTTE"</span>,
  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="va">adsl</span><span class="op">)</span> <span class="co"># vars = list(&lt;DATANAME&gt; = &lt;dataset name&gt;))</span>
<span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/mutate_dataset.html">mutate_dataset</a></span><span class="op">(</span><span class="st">"ADSL$var_created_after &lt;- NA"</span>, dataname <span class="op">=</span> <span class="st">"ADSL"</span><span class="op">)</span>


<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span>, dataname <span class="op">=</span> <span class="st">"ADTTE"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADSL &lt;- synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span>
<span class="co">#&gt; ADSL$x1 &lt;- 1</span>
<span class="co">#&gt; ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = "adtte", name = "latest")</span>
<span class="co">#&gt; ADTTE$x2 &lt;- 2</span>
<span class="co">#&gt; ADSL$x3 &lt;- 3</span>
<span class="co">#&gt; ADTTE$x4 &lt;- 4</span>
<span class="co">#&gt; ADSL &lt;- dplyr::filter(ADSL, SEX == "F")</span>
<span class="co">#&gt; ADTTE &lt;- filter(ADTTE, USUBJID %in% ADSL$USUBJID)</span></code></pre></div>
<p>Using <code>mutate_dataset</code> creates a tree of calls, which can be easily subset by <code>dataname</code>, but developers can also use <code>mutate_data</code> function which doesn’t require <code>dataname</code> to be specified. When <code>mutate_data</code> is used, code for a single dataset is not possible to be subset, instead code of all datasets is returned.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mutate_data.html">mutate_data</a></span><span class="op">(</span><span class="va">data</span>,
  code <span class="op">=</span> <span class="st">"
    ADSL$x3 &lt;- 3
    proxy_var &lt;- 4
    ADTTE$x4 &lt;- proxy_var
  "</span>
<span class="op">)</span>

<span class="co"># single dataset code is not possible to obtain anymore</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; ADSL &lt;- synthetic_cdisc_dataset(dataset_name = "adsl", name = "latest")</span>
<span class="co">#&gt; ADSL$x1 &lt;- 1</span>
<span class="co">#&gt; ADTTE &lt;- synthetic_cdisc_dataset(dataset_name = "adtte", name = "latest")</span>
<span class="co">#&gt; ADTTE$x2 &lt;- 2</span>
<span class="co">#&gt; ADSL$x3 &lt;- 3</span>
<span class="co">#&gt; ADTTE$x4 &lt;- 4</span>
<span class="co">#&gt; ADSL &lt;- dplyr::filter(ADSL, SEX == "F")</span>
<span class="co">#&gt; ADTTE &lt;- filter(ADTTE, USUBJID %in% ADSL$USUBJID)</span>
<span class="co">#&gt; ADSL$var_created_after &lt;- NA</span>
<span class="co">#&gt; ADSL$x3 &lt;- 3</span>
<span class="co">#&gt; proxy_var &lt;- 4</span>
<span class="co">#&gt; ADTTE$x4 &lt;- proxy_var</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="delayed-choices">Delayed choices<a class="anchor" aria-label="anchor" href="#delayed-choices"></a>
</h3>
<p><code>teal</code> applications which initialize using data consisting only of pre-existing datasets have all data accessible when pre-processing for the app. Getting column names, factor levels or numeric variables ranges are possible before the app starts. It means that the developer can explicitly specify <code>data_extract_spec</code>, <code>choices_selected</code> and their components. The <code>teal</code> package also supports these functions for delayed data loading, but the way to use them differs slightly. In the code block below, the default version of <code>variable_choices</code> is presented where the function uses an <code>ADSL</code> object containing “physical” data.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_data.html" class="external-link">synthetic_cdisc_data</a></span><span class="op">(</span><span class="st">"latest"</span><span class="op">)</span><span class="op">$</span><span class="va">adsl</span>
<span class="fu"><a href="../reference/variable_choices.html">variable_choices</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">adsl_data</span><span class="op">)</span>
<span class="co">#&gt; number of choices: 39 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; STUDYID: Study Identifier</span>
<span class="co">#&gt; USUBJID: Unique Subject Identifier</span>
<span class="co">#&gt; SUBJID: Subject Identifier for the Study</span>
<span class="co">#&gt; SITEID: Study Site Identifier</span>
<span class="co">#&gt; AGE: Age</span>
<span class="co">#&gt; SEX: Sex</span>
<span class="co">#&gt; RACE: Race</span>
<span class="co">#&gt; COUNTRY: Country</span>
<span class="co">#&gt; DTHFL: Subject Death Flag</span>
<span class="co">#&gt; INVID: Investigator Identifier</span>
<span class="co">#&gt; INVNAM: Investigator Name</span>
<span class="co">#&gt; ARM: Description of Planned Arm</span>
<span class="co">#&gt; ARMCD: Planned Arm Code</span>
<span class="co">#&gt; ACTARM: Description of Actual Arm</span>
<span class="co">#&gt; ACTARMCD: Actual Arm Code</span>
<span class="co">#&gt; REGION1: Geographic Region 1</span>
<span class="co">#&gt; STRATA1: Stratification Factor 1</span>
<span class="co">#&gt; STRATA2: Stratification Factor 2</span>
<span class="co">#&gt; BMRKR1: Continuous Level Biomarker 1</span>
<span class="co">#&gt; BMRKR2: Categorical Level Biomarker 2</span>
<span class="co">#&gt; ITTFL: Intent-To-Treat Population Flag</span>
<span class="co">#&gt; SAFFL: Safety Population Flag</span>
<span class="co">#&gt; BMEASIFL: Response Evaluable Population Flag</span>
<span class="co">#&gt; BEP01FL: Biomarker Evaluable Population Flag</span>
<span class="co">#&gt; RANDDT: Date of Randomization</span>
<span class="co">#&gt; TRTSDTM: Datetime of First Exposure to Treatment</span>
<span class="co">#&gt; TRTEDTM: Datetime of Last Exposure to Treatment</span>
<span class="co">#&gt; EOSSTT: End of Study Status</span>
<span class="co">#&gt; EOTSTT: End of Treatment Status</span>
<span class="co">#&gt; EOSDT: End of Study Date</span>
<span class="co">#&gt; EOSDY: End of Study Relative Day</span>
<span class="co">#&gt; DCSREAS: Reason for Discontinuation from Study</span>
<span class="co">#&gt; DTHDT: Date of Death</span>
<span class="co">#&gt; DTHCAUS: Cause of Death</span>
<span class="co">#&gt; DTHCAT: Cause of Death Category</span>
<span class="co">#&gt; LDDTHELD: Elapsed Days from Last Dose to Death</span>
<span class="co">#&gt; LDDTHGR1: Last Dose to Death - Days Elapsed Grp 1</span>
<span class="co">#&gt; LSTALVDT: Date Last Known Alive</span>
<span class="co">#&gt; study_duration_secs: NOT A STANDARD BUT NEEDED FOR RCD</span></code></pre></div>
<p>An alternative option is to put a dataname into <code>data</code> argument, which will result in creating a <code>delayed_variable_choices</code> object. The developer can always explicitly specify a <code>subset</code> of column names regardless of the class of the <code>data</code>.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/variable_choices.html">variable_choices</a></span><span class="op">(</span>data <span class="op">=</span> <span class="st">"ADSL"</span>, subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AVAL"</span>, <span class="st">"BMRKR1"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; variable_choices with delayed data: ADSL</span>
<span class="co">#&gt; $ data</span>
<span class="co">#&gt; [1] "ADSL"</span>
<span class="co">#&gt; $ subset</span>
<span class="co">#&gt; [1] "AVAL"   "BMRKR1"</span>
<span class="co">#&gt; $ key</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>If the dataset is not known before, one can use a function which subsets column names from data. This function will be executed after the data is pulled.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">get_continuous</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">6</span>, <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span>
<span class="op">}</span>

<span class="fu"><a href="../reference/variable_choices.html">variable_choices</a></span><span class="op">(</span>data <span class="op">=</span> <span class="st">"ADSL"</span>, subset <span class="op">=</span> <span class="va">get_continuous</span><span class="op">)</span>
<span class="co">#&gt; variable_choices with delayed data: ADSL</span>
<span class="co">#&gt; $ data</span>
<span class="co">#&gt; [1] "ADSL"</span>
<span class="co">#&gt; $ subset</span>
<span class="co">#&gt; function(data) {</span>
<span class="co">#&gt;   idx &lt;- vapply(data, function(x) is.numeric(x) &amp;&amp; length(unique(x)) &gt; 6, logical(1))</span>
<span class="co">#&gt;   colnames(data)[idx]</span>
<span class="co">#&gt; }</span>
<span class="co">#&gt; $ key</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>Another function which can be used with the delayed data loading is <code>value_choices</code>, which defines choices from levels of one or multiple variables. By default <code>value_choices</code> uses a <code>data.frame</code> from the <code>data</code> argument and choices will be immediately constructed from this object.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ADTTE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_data.html" class="external-link">synthetic_cdisc_data</a></span><span class="op">(</span><span class="st">"latest"</span><span class="op">)</span><span class="op">$</span><span class="va">adtte</span> <span class="co"># nolint</span>
<span class="fu"><a href="../reference/value_choices.html">value_choices</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">ADTTE</span>,
  var_choices <span class="op">=</span> <span class="st">"PARAMCD"</span>,
  var_label <span class="op">=</span> <span class="st">"PARAM"</span>,
  subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">ADTTE</span><span class="op">$</span><span class="va">PARAMCD</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>
<span class="op">)</span>
<span class="co">#&gt; number of choices: 2 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; CRSD: Duration of Confirmed Response</span>
<span class="co">#&gt; EFS: Event Free Survival</span></code></pre></div>
<p>Similar to <code>variable_choices</code>, developers can specify the <code>data</code> argument with data name (<code>"ADTTE"</code>) and use a function to <code>subset</code> choices. The <code>subset</code> function will be executed after data is pulled.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/value_choices.html">value_choices</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="st">"ADTTE"</span>,
  var_choices <span class="op">=</span> <span class="st">"PARAMCD"</span>,
  var_label <span class="op">=</span> <span class="st">"PARAM"</span>,
  subset <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">PARAMCD</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>
<span class="op">)</span>
<span class="co">#&gt; value_choices with delayed data:  ADTTE</span>
<span class="co">#&gt; $ data</span>
<span class="co">#&gt; [1] "ADTTE"</span>
<span class="co">#&gt; $ var_choices</span>
<span class="co">#&gt; [1] "PARAMCD"</span>
<span class="co">#&gt; $ var_label</span>
<span class="co">#&gt; [1] "PARAM"</span>
<span class="co">#&gt; $ subset</span>
<span class="co">#&gt; function(data) levels(data$PARAMCD)[1:2]</span>
<span class="co">#&gt; $ sep</span>
<span class="co">#&gt; [1] " - "</span></code></pre></div>
<p><code>variable_choices</code> and <code>value_choices</code> can be used with <code>choices_selected</code>, <code>select_spec</code> or <code>filter_spec</code> to properly declare data extracts.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scda_dataset_connector.html">scda_cdisc_dataset_connector</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="st">"adsl"</span><span class="op">)</span>
<span class="va">adrs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scda_dataset_connector.html">scda_cdisc_dataset_connector</a></span><span class="op">(</span><span class="st">"ADRS"</span>, <span class="st">"adrs"</span><span class="op">)</span>


<span class="va">get_continuous</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">6</span>, <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span>
<span class="op">}</span>

<span class="va">data_extract_x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/data_extract_spec.html">data_extract_spec</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADSL"</span>,
  select <span class="op">=</span> <span class="fu"><a href="../reference/select_spec.html">select_spec</a></span><span class="op">(</span>
    choices <span class="op">=</span> <span class="fu"><a href="../reference/variable_choices.html">variable_choices</a></span><span class="op">(</span><span class="st">"ADSL"</span>, subset <span class="op">=</span> <span class="va">get_continuous</span><span class="op">)</span>
  <span class="op">)</span>,
  filter <span class="op">=</span> <span class="fu"><a href="../reference/filter_spec.html">filter_spec</a></span><span class="op">(</span>
    label <span class="op">=</span> <span class="st">"Select endpoints:"</span>,
    vars <span class="op">=</span> <span class="st">"ARMCD"</span>, <span class="co"># variable_choices("ADSL", "ARMCD") # nolint</span>
    choices <span class="op">=</span> <span class="fu"><a href="../reference/value_choices.html">value_choices</a></span><span class="op">(</span><span class="st">"ADSL"</span>,
      var_choices <span class="op">=</span> <span class="st">"ARMCD"</span>,
      var_label <span class="op">=</span> <span class="st">"ARM"</span>,
      subset <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">ARMCD</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>,
    selected <span class="op">=</span> <span class="st">"ARM A"</span>,
    multiple <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="va">data_extract_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/data_extract_spec.html">data_extract_spec</a></span><span class="op">(</span>
  dataname <span class="op">=</span> <span class="st">"ADRS"</span>,
  select <span class="op">=</span> <span class="fu"><a href="../reference/select_spec.html">select_spec</a></span><span class="op">(</span>
    choices <span class="op">=</span> <span class="fu"><a href="../reference/variable_choices.html">variable_choices</a></span><span class="op">(</span><span class="st">"ADRS"</span>, subset <span class="op">=</span> <span class="va">get_continuous</span><span class="op">)</span>
  <span class="op">)</span>,
  filter <span class="op">=</span> <span class="fu"><a href="../reference/filter_spec.html">filter_spec</a></span><span class="op">(</span>
    label <span class="op">=</span> <span class="st">"Select endpoints:"</span>,
    vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PARAMCD"</span>, <span class="st">"AVISIT"</span><span class="op">)</span>,
    choices <span class="op">=</span> <span class="fu"><a href="../reference/value_choices.html">value_choices</a></span><span class="op">(</span>
      data <span class="op">=</span> <span class="st">"ADRS"</span>,
      var_choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PARAMCD"</span>, <span class="st">"AVISIT"</span><span class="op">)</span>,
      var_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PARAMCD"</span>, <span class="st">"AVISIT"</span><span class="op">)</span>,
      subset <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span>
        <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span>
          <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span>
            <span class="va">data</span><span class="op">$</span><span class="va">PARAMCD</span>,
            <span class="va">data</span><span class="op">$</span><span class="va">AVISIT</span>,
            sep <span class="op">=</span> <span class="st">" - "</span>
          <span class="op">)</span>
        <span class="op">)</span>
      <span class="op">}</span>
    <span class="op">)</span>,
    multiple <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>The <code>delayed_data_extract_spec</code> objects created above can be included in teal modules to create an application.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/init.html">init</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="fu"><a href="../reference/teal_data.html">teal_data</a></span><span class="op">(</span><span class="va">adsl</span>, <span class="va">adrs</span><span class="op">)</span>,
  modules <span class="op">=</span> <span class="fu"><a href="../reference/root_modules.html">root_modules</a></span><span class="op">(</span>
    <span class="fu">teal.modules.general</span><span class="fu">::</span><span class="fu">tm_g_bivariate</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">data_extract_x</span>,
      y <span class="op">=</span> <span class="va">data_extract_y</span>,
      use_density <span class="op">=</span> <span class="cn">FALSE</span>,
      plot_height <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600L</span>, <span class="fl">200L</span>, <span class="fl">2000L</span><span class="op">)</span>,
      ggtheme <span class="op">=</span> <span class="st">"gray"</span>
    <span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by NEST, Adrian Waddell, Pawel Rucki, Dawid Kaledkowski, Sebastian Wolf, Maximilian Mordig, Bartosz Baranowski, Ondrej Slama, Nikolas Burkoff, Maciej Nasinski, Roche.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
